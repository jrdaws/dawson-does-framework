================================================================================
TASK ASSIGNMENT: Deploy Command Enhancement
================================================================================
Priority: P2 (MEDIUM)
Target Agent: CLI Agent
Created By: Documentation Agent
Date: 2025-12-22 20:00

## Task Description

Review and enhance the `framework deploy` command to ensure it follows the
same high-quality patterns as the recently improved `export` and `pull` commands.

## Context

Recent CLI improvements:
- Export command now has --help, -h, help flag support
- Standardized error helpers (showError, showWarning, etc.) in logger.mjs
- CLI patterns documented in CONTRIBUTING.md
- Pull command fully implemented with comprehensive flags

The deploy command should match these standards.

## Files to Review

- bin/framework.js (deploy command implementation)
- src/commands/deploy.mjs (deploy logic)
- src/platform/providers/impl/deploy.*.ts (provider implementations)
- CONTRIBUTING.md (CLI patterns reference)

## Files to Potentially Modify

- bin/framework.js (add --help if missing)
- src/commands/deploy.mjs (error handling improvements)

## Audit Checklist

### 1. Help Flag Support
- [ ] `framework deploy --help` works
- [ ] `framework deploy -h` works
- [ ] `framework deploy help` works
- [ ] Help text uses console.log (not console.error)
- [ ] Help includes all options, examples

### 2. Error Handling
- [ ] Uses showError() helper
- [ ] Errors include recovery guidance
- [ ] Error messages follow "What → Why → How" pattern

### 3. Output Consistency
- [ ] Uses appropriate emojis (✅❌⚠️ℹ️)
- [ ] Success messages are clear
- [ ] Dry-run mode available and working

### 4. Flag Parsing
- [ ] Dedicated parser function
- [ ] Returns object with defaults
- [ ] camelCase flag names

## Execution Steps

### Step 1: Audit Current Implementation

```bash
# Check help support
node bin/framework.js deploy --help
node bin/framework.js deploy -h
node bin/framework.js deploy help

# Check error handling
node bin/framework.js deploy  # No args - should show usage
node bin/framework.js deploy invalid-provider .  # Should error gracefully
```

### Step 2: Document Findings

Create audit notes in your workspace:
`output/cli-agent/workspace/deploy-audit.txt`

### Step 3: Implement Improvements

Based on audit, implement any needed improvements following patterns
from CONTRIBUTING.md CLI Patterns section.

### Step 4: Test

```bash
npm test -- tests/cli/commands.test.mjs
npm test  # Full suite
```

### Step 5: Update Memory

Add session entry to `prompts/agents/memory/CLI_MEMORY.md`

### Step 6: Commit

```bash
git add -A
git commit -m "fix(cli): improve deploy command help and error handling"
```

## Success Criteria

- [ ] All help flag variants work
- [ ] Error messages include recovery guidance
- [ ] Matches patterns from export/pull commands
- [ ] All tests pass
- [ ] Documented in CLI_MEMORY.md

## Estimated Effort

20-30 minutes

## Dependencies

None

## Notes

This is consistency work - bringing deploy up to the standards set by
the recent export and pull command improvements.

================================================================================
END OF TASK
================================================================================

