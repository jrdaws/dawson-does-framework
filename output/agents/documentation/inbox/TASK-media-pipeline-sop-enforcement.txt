ADVANCED TASK: Media Pipeline SOP Enforcement & Documentation Audit
=====================================================================

AGENT: Documentation Agent
PRIORITY: P1 - HIGH
DATE: 2025-12-23

OBJECTIVE:
----------
Audit, update, and enforce the Media Generation Pipeline SOPs to ensure all 
agents involved produce photorealistic, professional-quality images that are 
indistinguishable from real photography. Establish mandatory checkpoints and 
enforcement mechanisms throughout the pipeline.


BACKGROUND:
-----------
The Media Generation Pipeline consists of 4 agents working in sequence:
1. Research Agent → Creates asset briefs with generation prompts
2. Media Agent → Generates images using AI (Stable Diffusion, DALL-E)
3. Quality Agent → Reviews and approves or requests revisions
4. Template/Website Agent → Integrates approved assets

CRITICAL REQUIREMENT: All generated images must look like they were taken by 
a professional photographer or product photographer. They must NOT look 
obviously AI-generated (no plastic skin, oversaturation, or uncanny valley).


FILES TO REVIEW:
----------------
Read and analyze these files for completeness and consistency:

1. Pipeline Overview:
   cat output/media-pipeline/MEDIA_PIPELINE.md

2. Agent SOPs:
   cat prompts/agents/roles/media-pipeline/RESEARCH_AGENT.md
   cat prompts/agents/roles/media-pipeline/MEDIA_AGENT.md
   cat prompts/agents/roles/media-pipeline/QUALITY_AGENT.md

3. Prompt Engineering Guides:
   cat output/media-pipeline/shared/PHOTOREALISTIC_PROMPT_GUIDE.md
   cat output/media-pipeline/shared/prompts/PHOTOREALISTIC_EXAMPLE.txt
   cat output/media-pipeline/shared/prompts/META_PROMPT_GENERATOR.txt

4. Brief Template:
   cat output/media-pipeline/shared/briefs/BRIEF_TEMPLATE.md

5. Agent Policies (for integration):
   cat prompts/agents/AGENT_POLICIES.md


TASKS TO COMPLETE:
------------------

1. AUDIT EXISTING DOCUMENTATION
   - Verify all SOPs reference the photorealistic prompt guide
   - Check for consistency across all agent documentation
   - Identify any gaps or missing steps
   - Ensure handoff protocols are complete

2. ADD MANDATORY ENFORCEMENT CHECKPOINTS
   
   For Research Agent:
   - [ ] MUST read PHOTOREALISTIC_PROMPT_GUIDE.md before creating prompts
   - [ ] MUST use camera + lens + lighting formula for ALL image prompts
   - [ ] MUST include negative prompts in every brief
   - [ ] MUST specify "Asset Target: TEMPLATE or PROJECT"
   
   For Media Agent:
   - [ ] MUST verify prompt includes camera/lens before generating
   - [ ] MUST use cost-optimized strategy (SD for drafts, DALL-E for finals)
   - [ ] MUST run self-check for AI artifacts before handoff
   - [ ] MUST document generation settings in manifest
   
   For Quality Agent:
   - [ ] MUST use photorealism checklist for every image
   - [ ] MUST reject images with obvious AI tells (plastic skin, bad hands)
   - [ ] MUST provide specific feedback referencing the prompt guide
   - [ ] MUST track iteration count (max 3)
   
   For Integration Agents:
   - [ ] MUST verify all assets are approved before integration
   - [ ] MUST maintain consistent naming conventions
   - [ ] MUST update component references after integration

3. UPDATE AGENT POLICIES
   Add to prompts/agents/AGENT_POLICIES.md:
   - New section: "Media Pipeline Standards"
   - Mandatory photorealistic prompt requirements
   - Cost optimization requirements (SD first, DALL-E for finals only)
   - Quality enforcement policy

4. CREATE ENFORCEMENT MECHANISMS
   - Pre-handoff checklist for each agent
   - Rejection criteria with specific examples
   - Escalation path for repeated quality failures
   - Metrics tracking requirements

5. STANDARDIZE PROMPT TEMPLATES
   Ensure every asset type has a standard prompt template:
   - Hero images (people + workspace)
   - Product shots (device/software context)
   - Team photos (authentic collaboration)
   - Backgrounds/textures (subtle, professional)
   - Icons/graphics (consistent style guide)

6. CREATE QUICK REFERENCE CARDS
   One-page reference for each agent with:
   - Essential requirements (non-negotiable)
   - Common mistakes to avoid
   - Quality criteria summary
   - Handoff checklist


DELIVERABLES:
-------------

1. UPDATED SOPS (4 files)
   - prompts/agents/roles/media-pipeline/RESEARCH_AGENT.md
   - prompts/agents/roles/media-pipeline/MEDIA_AGENT.md
   - prompts/agents/roles/media-pipeline/QUALITY_AGENT.md
   - output/media-pipeline/MEDIA_PIPELINE.md

2. UPDATED AGENT POLICIES
   - prompts/agents/AGENT_POLICIES.md (add Media Pipeline Standards section)

3. NEW ENFORCEMENT DOCUMENTS
   - output/media-pipeline/shared/ENFORCEMENT_CHECKLIST.md
   - output/media-pipeline/shared/REJECTION_CRITERIA.md
   - output/media-pipeline/shared/QUICK_REFERENCE_CARDS.md

4. VALIDATION REPORT
   - output/documentation-agent/outbox/media-pipeline-audit-report.txt
   - List all changes made
   - Confirm all enforcement mechanisms in place
   - Note any remaining gaps or recommendations


SUCCESS CRITERIA:
-----------------

□ All 4 agent SOPs explicitly require reading PHOTOREALISTIC_PROMPT_GUIDE.md
□ Every image prompt template includes camera + lens + lighting + negative prompts
□ Quality Agent has mandatory photorealism checklist with pass/fail criteria
□ Cost optimization strategy documented (Stable Diffusion for drafts)
□ Handoff protocols include pre-flight checklists
□ AGENT_POLICIES.md includes Media Pipeline Standards section
□ Quick reference cards created for each pipeline agent
□ Rejection criteria documented with specific examples
□ Metrics tracking requirements specified
□ All documents are consistent and cross-referenced


QUALITY STANDARDS TO ENFORCE:
-----------------------------

Images MUST have:
- Natural skin texture (not waxy or plastic)
- Realistic eyes with proper catchlights
- Consistent lighting direction
- Natural color saturation (not oversaturated)
- Correct hands/fingers
- Authentic background bokeh
- Overall "real photo" feel

Images MUST NOT have:
- Plastic or poreless skin
- Vacant or expressionless eyes
- Inconsistent shadow directions
- HDR-overdone look
- Wrong number of fingers
- Weird artifacts in backgrounds
- Stock photo generic feel
- Perfect unnatural symmetry


HANDOFF INSTRUCTIONS:
---------------------

When complete:
1. Move this file to: output/documentation-agent/done/
2. Create completion report: output/documentation-agent/outbox/
3. Notify relevant agents if their SOPs were updated
4. Update COMPLETE_SETUP_GUIDE.md if pipeline documentation changed


ACTIVATION COMMAND FOR NEXT AGENT:
----------------------------------

After Documentation Agent completes, activate Testing Agent with:

"Read the media pipeline documentation updates in output/documentation-agent/outbox/ 
and verify all enforcement mechanisms are properly integrated. Create a test 
checklist to validate the pipeline works end-to-end."

