# Task: Enhance Preview with Dynamic Integration Badges

## Context
Integration templates are complete (Supabase, Stripe, Resend, PostHog). The preview needs to dynamically show which integrations are configured.

## Your Task
Update preview components to show integration badges and feature indicators based on the configurator state.

## Components to Create/Update

### 1. Create Integration Badge Components
Location: `website/components/preview/integrations/`

```
integrations/
├── IntegrationBadge.tsx    # Generic badge with provider colors
├── AuthBadge.tsx           # Auth provider indicator
├── PaymentBadge.tsx        # Payment provider indicator  
├── EmailBadge.tsx          # Email provider indicator
├── AnalyticsBadge.tsx      # Analytics provider indicator
└── IntegrationStack.tsx    # Stack of all configured integrations
```

Each badge should:
- Show provider logo/icon
- Use provider's brand color
- Have hover tooltip with provider name
- Be small enough to not obstruct preview

### 2. Update PreviewRenderer
File: `website/components/preview/PreviewRenderer.tsx`

Changes needed:
- Accept `integrations` prop from LivePreviewPanel
- Pass integrations to child components
- Render floating IntegrationStack in corner

```tsx
interface PreviewRendererProps {
  template: string;
  componentProps: Record<string, Record<string, unknown>>;
  integrations?: Record<string, string>; // Add this
  selectedFeatures?: Record<string, string[]>; // Add this
  // ...
}
```

### 3. Update Nav Component
File: `website/components/preview/components/Nav.tsx`

When auth integration is present:
- Show "Sign In" / "Sign Up" buttons
- Show auth provider badge (Supabase, Clerk, etc.)

When no auth:
- Show generic nav without auth buttons

### 4. Update Hero Component
File: `website/components/preview/components/Hero.tsx`

When e-commerce template + payments:
- Show "Start Shopping" CTA
- Include payment badge

When SaaS template + payments:
- Show "Start Free Trial" CTA

### 5. Create Feature Indicators
Location: `website/components/preview/features/`

```
features/
├── CartIcon.tsx           # Shopping cart in nav (when ecommerce feature)
├── SearchBar.tsx          # Search input (when search feature)
├── AdminLink.tsx          # Admin link (when admin feature)
└── SubscriptionBadge.tsx  # Pro/Free badge (when subscription feature)
```

### 6. Update LivePreviewPanel
File: `website/app/components/configurator/LivePreviewPanel.tsx`

Ensure it passes:
- `integrations` to PreviewRenderer
- `selectedFeatures` to PreviewRenderer

## Provider Colors Reference

```typescript
const PROVIDER_COLORS = {
  // Auth
  supabase: "#3ECF8E",
  clerk: "#6C47FF",
  auth0: "#EB5424",
  nextauth: "#000000",
  
  // Payments
  stripe: "#635BFF",
  paddle: "#FFDD00",
  lemonsqueezy: "#FFC233",
  
  // Email
  resend: "#000000",
  sendgrid: "#1A82E2",
  postmark: "#FFDE00",
  
  // Analytics
  posthog: "#F9BD2B",
  plausible: "#5850EC",
  ga4: "#E37400",
  
  // AI
  openai: "#10A37F",
  anthropic: "#D4A27F",
  
  // Storage
  uploadthing: "#F43F5E",
  cloudinary: "#3448C5",
  supabase_storage: "#3ECF8E",
};
```

## Success Criteria
- [ ] Preview shows auth buttons when auth integration selected
- [ ] Preview shows cart icon when e-commerce features selected
- [ ] Integration badges appear in corner with correct colors
- [ ] Badges have proper hover states and tooltips
- [ ] Preview updates immediately when integrations change
- [ ] No layout shift when badges appear/disappear

## Reference Files
- Current preview components: `website/components/preview/`
- LivePreviewPanel: `website/app/components/configurator/LivePreviewPanel.tsx`
- Configurator state: `website/lib/configurator-state.ts`

## Deliverables
1. Integration badge components
2. Feature indicator components
3. Updated PreviewRenderer with integration awareness
4. Updated Nav/Hero with conditional rendering
5. Update `PREVIEW_GENERATION_TASKS.md` when complete

---
Website Agent - work on this in parallel with Platform Agent

