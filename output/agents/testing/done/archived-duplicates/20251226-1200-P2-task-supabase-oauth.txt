# Task: Supabase OAuth E2E Testing

Priority: P2
Assigned To: Testing Agent
Depends On: T4 (Connected Services UI - Website Agent)
Estimated Effort: Medium
Curated: 2025-12-26 12:00
Quality Score: 8.4/10

---

## Context

Supabase OAuth flow was implemented but lacks E2E validation. Need to verify:
- OAuth redirect works
- Token exchange succeeds
- Session persists correctly

---

## Objectives

1. Create E2E test for Supabase OAuth flow
2. Test happy path: initiate → redirect → callback → session
3. Test error path: invalid state, expired token

---

## Success Criteria

- [ ] E2E test file created
- [ ] Happy path test passes
- [ ] Error handling test passes
- [ ] Mock OAuth flow for CI (no real Supabase needed)

---

## Files to Create/Modify

- `website/tests/e2e/supabase-oauth.spec.ts` (new)

---

## Notes

- Use Playwright for E2E testing
- Mock Supabase OAuth endpoints for CI environment

---

## Handoff

1. Run `npm run test:e2e` to verify
2. Commit with message: `test: add Supabase OAuth E2E tests`
3. Move this task to `output/agents/testing/done/`

---

(TESTING AGENT)

